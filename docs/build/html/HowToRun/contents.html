

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to run the code &mdash; GridGen 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="GridGen 0.0.1 documentation" href="../index.html" />
    <link rel="next" title="Results summary" href="../Results/contents.html" />
    <link rel="prev" title="Code development" href="../CodeDevel/contents.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../Results/contents.html" title="Results summary"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../CodeDevel/contents.html" title="Code development"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GridGen 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="how-to-run-the-code">
<h1>How to run the code<a class="headerlink" href="#how-to-run-the-code" title="Permalink to this headline">¶</a></h1>
<div class="section" id="machine-platform-for-development">
<h2>Machine platform for development<a class="headerlink" href="#machine-platform-for-development" title="Permalink to this headline">¶</a></h2>
<p>This Grid Generation code has been developed on personal computer operating on linux system (Ubuntu Linux 3.2.0-38-generic x86_64). Machine specification is summarized as shown below:</p>
<p>vendor_id       : GenuineIntel</p>
<p>cpu family      : 6</p>
<p>model name      : Intel(R) Core(TM) i7-2600 CPU &#64; 3.40GHz</p>
<p>cpu cores       : 4</p>
<p>Memory          : 16418112 kB</p>
</div>
<div class="section" id="code-setup">
<h2>Code setup<a class="headerlink" href="#code-setup" title="Permalink to this headline">¶</a></h2>
<p>The GridGen source code has been developed with version management tool, GIT. The git repository was built on &#8216;github.com&#8217;. Thus, the source code as well as related document files can be cloned into user&#8217;s local machine by following command:</p>
<div class="highlight-python"><pre>$ git clone http://github.com/sayop/GridGen.git</pre>
</div>
<p>If you open the git-cloned folder <strong>GridGen</strong>, you will see two different folder and README file. The <strong>CODEdev</strong> folder contains again <strong>bin</strong> folder, <strong>Python</strong> folder, and <strong>src</strong> folder. In order to run the code, user should run <strong>setup.sh</strong> script in the <strong>bin</strong> folder. <strong>Python</strong> folder contains python script that is used to postprocess RMS residual data. It may contain <strong>build</strong> folder, which might have been created in the different platform. Thus it is recommended that user should remove <strong>build</strong> folder before setting up the code. Note that the <strong>setup.sh</strong> script will run <strong>cmake</strong> command. Thus, make sure to have cmake installed on your system:</p>
<div class="highlight-python"><pre>$ rm -rf build
$ ./setup.sh
-- The C compiler identification is GNU 4.6.3
-- The CXX compiler identification is GNU 4.6.3
-- Check for working C compiler: /usr/bin/gcc
-- Check for working C compiler: /usr/bin/gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- The Fortran compiler identification is Intel
-- Check for working Fortran compiler: /opt/intel/composer_xe_2011_sp1.11.339/bin/intel64/ifort
-- Check for working Fortran compiler: /opt/intel/composer_xe_2011_sp1.11.339/bin/intel64/ifort  -- works
-- Detecting Fortran compiler ABI info
-- Detecting Fortran compiler ABI info - done
-- Checking whether /opt/intel/composer_xe_2011_sp1.11.339/bin/intel64/ifort supports Fortran 90
-- Checking whether /opt/intel/composer_xe_2011_sp1.11.339/bin/intel64/ifort supports Fortran 90 -- yes
-- Configuring done
-- Generating done
-- Build files have been written to: /data/ksayop/GitHub.Clone/GridGen/CODEdev/bin/build
Scanning dependencies of target cfd.x
[ 12%] Building Fortran object CMakeFiles/cfd.x.dir/main/Parameters.F90.o
[ 25%] Building Fortran object CMakeFiles/cfd.x.dir/main/SimulationVars.F90.o
[ 37%] Building Fortran object CMakeFiles/cfd.x.dir/io/io.F90.o
[ 50%] Building Fortran object CMakeFiles/cfd.x.dir/main/SimulationSetup.F90.o
[ 62%] Building Fortran object CMakeFiles/cfd.x.dir/main/GridSetup.F90.o
[ 75%] Building Fortran object CMakeFiles/cfd.x.dir/main/GridTransformSetup.F90.o
[ 87%] Building Fortran object CMakeFiles/cfd.x.dir/main/GridTransform.F90.o
[100%] Building Fortran object CMakeFiles/cfd.x.dir/main/main.F90.o
Linking Fortran executable cfd.x
[100%] Built target cfd.x
$ ls
$ build  cfd.x  input.dat  setup.sh</pre>
</div>
<p>If you run this, you will get executable named <strong>cfd.x</strong> and <strong>input.dat</strong> files. The input file is made by default. You can quickly change the required options.</p>
</div>
<div class="section" id="input-file-setup">
<h2>Input file setup<a class="headerlink" href="#input-file-setup" title="Permalink to this headline">¶</a></h2>
<p>The GridGen code allows user to set multiple options to generate grid by reading <strong>input.dat</strong> file at the beginning of the computation. Followings are default setup values you can find in the input file when you run <strong>setup.sh</strong> script:</p>
<div class="highlight-python"><pre># Input file for tecplot print
Flow in a channel
imax            41
jmax            2
kmax            19
# domain input (Corner points: x,y coordinates)
p1              -0.8    0.0     0.0
p2              1.8     0.0     0.0
p3              -0.8    0.0     1.0
p4              1.8     0.0     1.0
GeoStart        0.0     0.0     0.0
GeoEnd          1.0     0.0     0.0
FEsize          11
GeoSize         21
DCsize          11
width           0.1
# Grid clustering:
# cy1: stretched grid in z
# cy2: stretched Pi in z
# cy3: stretched Psi in x
# cy4: stretched grid along FE
# cy5: stretched grid along ED
# cy6: stretched grid along DC
cy1             2.0
cy2             -5.001
cy3             0.001
cy4             -1.2
cy5             1.0
cy6             0.001
# Iteration max: If nmax == 0, elliptic grid won't be calculated
nmax            500
# RMS Criterion
RMScrit         1.0E-6
# Calculate control terms: Pi, Psi
iControl        1</pre>
</div>
<ul class="simple">
<li><strong>imax, jmax, kmax</strong>: These three parameters set the size of grid points in <span class="math">\(x\)</span>, <span class="math">\(y\)</span>, and <span class="math">\(z\)</span> direction, respectively.</li>
<li><strong>p1, p2, p3, p4</strong>: Define the corner points that form the front surface of the 3-dimensional computational domain.</li>
<li><strong>GeoStart, GeoEnd</strong>: Start and end points of airfoil geometry</li>
<li><strong>FEsize, GeoSize, DCsize</strong>: Number of grid points along FE, airfoil shape, and DC</li>
<li><strong>width</strong>: Depth of 3D computational domain in <span class="math">\(y\)</span>-direction.</li>
<li><strong>cy1 ~ cy6</strong>: Stretching parameters used in the stretching formula, which is inherently defined for the grid point spacing in the <span class="math">\(z\)</span> direction. In this code, this formula is applied to control terms and bottom edge spacing to define a new grid alignment for Grid #5.</li>
<li><strong>nmax</strong>: Maximum number of main loop. If the residual criterion is met before this maximum number is reached, the code will be terminated. If nmax is set to 0, the code will only run for the algebraic grid.</li>
<li><strong>RMScrit</strong>: Minimum RMS residual value to obtain the coverged Thomas method calculation.</li>
<li><strong>iControl</strong>: If it is 1, the code runs with pre-specified <span class="math">\(\phi\)</span> and <span class="math">\(\psi\)</span> at the boundary points.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How to run the code</a><ul>
<li><a class="reference internal" href="#machine-platform-for-development">Machine platform for development</a></li>
<li><a class="reference internal" href="#code-setup">Code setup</a></li>
<li><a class="reference internal" href="#input-file-setup">Input file setup</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../CodeDevel/contents.html"
                        title="previous chapter">Code development</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../Results/contents.html"
                        title="next chapter">Results summary</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/HowToRun/contents.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../Results/contents.html" title="Results summary"
             >next</a> |</li>
        <li class="right" >
          <a href="../CodeDevel/contents.html" title="Code development"
             >previous</a> |</li>
        <li><a href="../index.html">GridGen 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Sayop Kim.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>